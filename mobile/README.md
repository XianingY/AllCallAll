# AllCallAll Mobile App - Expo Development Client

React Native (Expo) è·¨å¹³å°éŸ³è§†é¢‘é€šè¯åº”ç”¨ï¼Œä¸Ž Go åŽç«¯é…åˆæä¾›é‚®ç®±æ³¨å†Œå’ŒéŸ³è§†é¢‘é€šè¯åŠŸèƒ½ã€‚

## ç‰¹æ€§

- ðŸ“§ **é‚®ç®±æ³¨å†ŒéªŒè¯** - QQ é‚®ç®± SMTP éªŒè¯ç ï¼Œ6 ä½æ•°å­—ï¼Œ10 åˆ†é’Ÿæœ‰æ•ˆæœŸ
- ðŸ” **JWT èº«ä»½è®¤è¯** - Token å®‰å…¨å­˜å‚¨åœ¨ AsyncStorage
- ðŸ‘¥ **è”ç³»äººç®¡ç†** - æ·»åŠ ã€åˆ é™¤ã€åˆ—è¡¨ï¼Œæ”¯æŒå®žæ—¶åœ¨çº¿çŠ¶æ€æ˜¾ç¤º
- ðŸŸ¢ **åœ¨çº¿çŠ¶æ€** - æ¯ 10 ç§’è½®è¯¢ä¸€æ¬¡ï¼Œæ˜¾ç¤ºç”¨æˆ·åœ¨çº¿çŠ¶æ€å’Œæœ€åŽæ´»è·ƒæ—¶é—´
- ðŸŽ¤ **WebRTC éŸ³é¢‘é€šè¯** - åŸºäºŽ react-native-webrtc çš„ç‚¹å¯¹ç‚¹é€šè¯
- ðŸ”„ **è‡ªåŠ¨é‡è¿ž** - ç½‘ç»œå¼‚å¸¸æ—¶è‡ªåŠ¨é‡æ–°è¿žæŽ¥
- ðŸ›  **å¼€å‘è€…å‹å¥½** - å®Œæ•´çš„ TypeScript ç±»åž‹æ”¯æŒï¼ŒçŽ°ä»£åŒ–çš„ React Hooks
- âš¡ **é«˜æ€§èƒ½** - ä¼˜åŒ–çš„ç½‘ç»œé…ç½®ï¼Œè‡ªåŠ¨æ£€æµ‹æœ¬æœº IPï¼Œæ”¯æŒå¤šç§è°ƒè¯•æ¨¡å¼

## æŠ€æœ¯æ ˆ

- **æ¡†æž¶**: React Native 0.74.1 + Expo 51.0.0
- **å¼€å‘å·¥å…·**: Expo Development Clientï¼ˆè‡ªå®šä¹‰å¼€å‘å®¢æˆ·ç«¯ï¼‰
- **è¯­è¨€**: TypeScript
- **å¯¼èˆª**: React Navigation 6.1.9
- **ç½‘ç»œ**: Axios 1.6.8
- **WebRTC**: react-native-webrtc 124.0.0
- **çŠ¶æ€ç®¡ç†**: React Context API + Mitt Event Bus
- **å­˜å‚¨**: AsyncStorageï¼ˆæœ¬åœ°æŒä¹…åŒ–ï¼‰
- **è°ƒè¯•**: ADB åå‘è½¬å‘ï¼ˆæŽ¨èï¼‰/ LAN æ¨¡å¼

## é¡¹ç›®ç»“æž„

```
mobile/
â”œâ”€â”€ App.tsx                          # åº”ç”¨å…¥å£ã€æä¾›å™¨é…ç½®
â”œâ”€â”€ app.json                         # Expo é…ç½®æ–‡ä»¶
â”œâ”€â”€ metro.config.js                  # Metro æ‰“åŒ…å™¨é…ç½®
â”œâ”€â”€ tsconfig.json                    # TypeScript é…ç½®
â”œâ”€â”€ package.json                     # ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ babel.config.js                  # Babel è½¬ç é…ç½®
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ dev-client-debug.sh          # å®Œæ•´å¯åŠ¨è„šæœ¬ï¼ˆæŽ¨èï¼‰
â”‚                                    # è‡ªåŠ¨å¤„ç† ADB è½¬å‘ã€è™šæ‹Ÿå…¥å£ç‚¹ä¿æŠ¤
â”‚
â””â”€â”€ src/
    â”œâ”€â”€ api/
    â”‚   â”œâ”€â”€ client.ts                # Axios HTTP å®¢æˆ·ç«¯é…ç½®
    â”‚   â”œâ”€â”€ auth.ts                  # è®¤è¯ APIï¼ˆæ³¨å†Œã€ç™»å½•ã€éªŒè¯ç ï¼‰
    â”‚   â”œâ”€â”€ contact.ts               # è”ç³»äºº API
    â”‚   â”œâ”€â”€ presence.ts              # åœ¨çº¿çŠ¶æ€ API
    â”‚   â””â”€â”€ signaling.ts             # WebSocket ä¿¡ä»¤å®¢æˆ·ç«¯
    â”‚
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ CallOverlay.tsx          # é€šè¯ UI æµ®çª—
    â”‚   â”œâ”€â”€ ContactCard.tsx          # è”ç³»äººå¡ç‰‡
    â”‚   â”œâ”€â”€ Badges.tsx               # åœ¨çº¿çŠ¶æ€å¾½ç« 
    â”‚   â””â”€â”€ LoadingSpinner.tsx       # åŠ è½½æŒ‡ç¤ºå™¨
    â”‚
    â”œâ”€â”€ config/
    â”‚   â””â”€â”€ index.ts                 # åº”ç”¨é…ç½®ï¼ˆAPI åœ°å€ã€è¶…æ—¶æ—¶é—´ç­‰ï¼‰
    â”‚                                # å·²é…ç½®ä½¿ç”¨ localhostï¼ˆADB è½¬å‘ï¼‰
    â”‚
    â”œâ”€â”€ context/
    â”‚   â”œâ”€â”€ AuthContext.tsx          # è®¤è¯æä¾›å™¨ï¼ˆç™»å½•ã€æ³¨å†Œã€ä»¤ç‰Œç®¡ç†ï¼‰
    â”‚   â””â”€â”€ SignalingContext.tsx     # ä¿¡ä»¤æä¾›å™¨ï¼ˆWebRTCã€é€šè¯ç®¡ç†ï¼‰
    â”‚
    â”œâ”€â”€ navigation/
    â”‚   â””â”€â”€ RootNavigator.tsx        # React Navigation æ ˆé…ç½®
    â”‚                                # ç™»å½• â†’ æ³¨å†Œ â†’ è”ç³»äºº
    â”‚
    â””â”€â”€ screens/
        â”œâ”€â”€ LoginScreen.tsx           # ç™»å½•é¡µé¢
        â”œâ”€â”€ RegisterScreen.tsx        # æ³¨å†Œé¡µé¢ï¼ˆé‚®ç®±éªŒè¯ï¼‰
        â””â”€â”€ ContactsScreen.tsx        # è”ç³»äººä¸»é¡µé¢
```

## å‰ç½®è¦æ±‚

### å¼€å‘å·¥å…·
- **Node.js**: 18.0+
- **npm**: 9.0+ æˆ– **Yarn**
- **Expo CLI**: `npm install -g expo-cli` ï¼ˆå¯é€‰ï¼Œ`npx expo` ä¹Ÿå¯ä»¥ï¼‰

### è®¾å¤‡å’Œæ¨¡æ‹Ÿå™¨
- **Android è®¾å¤‡**: API 31+ æˆ– Android æ¨¡æ‹Ÿå™¨
- **æƒé™**: éº¦å…‹é£Žæƒé™ï¼ˆå¿…é¡»ç”¨äºŽé€šè¯ï¼‰ã€æ‘„åƒå¤´æƒé™ï¼ˆæœªæ¥è§†é¢‘åŠŸèƒ½ï¼‰
- **æµ‹è¯•é‚®ç®±**: test.user@example.comï¼ˆæŽ¥æ”¶éªŒè¯ç ç”¨ï¼‰

### åŽç«¯æœåŠ¡
- åŽç«¯ Go æœåŠ¡è¿è¡Œåœ¨ `localhost:8080`ï¼ˆé€šè¿‡ ADB è½¬å‘ï¼‰
- MySQL å’Œ Redis æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ˆDocker Composeï¼‰
- é‚®ä»¶æœåŠ¡é…ç½®ä¸º QQ é‚®ç®± SMTPï¼ˆsmtp.qq.com:587ï¼‰

## å¿«é€Ÿå¼€å§‹

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬å¯åŠ¨ï¼ˆæŽ¨è âœ…ï¼‰

è¿™æ˜¯æœ€ç®€å•ã€æœ€ç¨³å®šçš„æ–¹å¼ã€‚è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰åˆå§‹åŒ–å·¥ä½œï¼š

```bash
cd mobile

# ä»…éœ€ä¸€æ¡å‘½ä»¤ï¼è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
# 1. åœæ­¢æ‰€æœ‰ Metro è¿›ç¨‹
# 2. æ¸…ç†ç¼“å­˜ï¼ˆä¿æŠ¤è™šæ‹Ÿå…¥å£ç‚¹æ–‡ä»¶ï¼‰
# 3. é…ç½® ADB åå‘è½¬å‘ (8080, 8081)
# 4. æ¸…é™¤åº”ç”¨æ•°æ®
# 5. å¯åŠ¨ Metro å¼€å‘æœåŠ¡å™¨

bash scripts/dev-client-debug.sh

# ç„¶åŽåœ¨çœŸæœºä¸Šæ‰«æäºŒç»´ç æˆ–è¾“å…¥ Metro æ˜¾ç¤ºçš„ URL
```

### æ–¹æ¡ˆ 2ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆå®Œæ•´ç†è§£å¼€å‘æµç¨‹ï¼‰

```bash
cd mobile

# 1. å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡æˆ–æ›´æ–°åŽï¼‰
npm install

# 2. æ¸…ç†ç¼“å­˜
rm -rf node_modules/.cache /tmp/metro-*

# 3. é…ç½® ADB åå‘è½¬å‘
adb reverse tcp:8080 tcp:8080  # åŽç«¯ API
adb reverse tcp:8081 tcp:8081  # Metro å¼€å‘æœåŠ¡å™¨

# 4. å¯åŠ¨ Metro å¼€å‘æœåŠ¡å™¨
npm run start:dev-client

# 5. åœ¨çœŸæœºä¸Šæ“ä½œï¼š
#    - æ‰“å¼€ Expo Development Client åº”ç”¨
#    - æ‘‡æ™ƒè®¾å¤‡æˆ–æŒ‰èœå•é”®
#    - é€‰æ‹© "Scan QR Code" æˆ– "Change Bundle URL"
#    - æ‰«æ Metro ç»ˆç«¯æ˜¾ç¤ºçš„äºŒç»´ç 
#    - æˆ–è¾“å…¥ Metro æ˜¾ç¤ºçš„ URLï¼ˆé€šå¸¸æ˜¯ http://localhost:8081ï¼‰
```

### æ–¹æ¡ˆ 3ï¼šWi-Fi æ— çº¿è°ƒè¯•ï¼ˆå¯é€‰ï¼‰

å¦‚æžœéœ€è¦æ— çº¿è°ƒè¯•ï¼Œå¯ä½¿ç”¨ LAN æ¨¡å¼ï¼š

```bash
cd mobile

# å¯åŠ¨ Metro (LAN æ¨¡å¼)
npm run start:dev-client:lan

# æˆ–ä½¿ç”¨ä¼ ç»Ÿ Expo Go
npm run start:lan

# çœŸæœºä¸Šæ“ä½œï¼š
#   - ç¡®ä¿ä¸Žå¼€å‘æœºåœ¨åŒä¸€ Wi-Fi ç½‘ç»œ
#   - æ‘‡æ™ƒè®¾å¤‡é€‰æ‹© 'Change Bundle URL'
#   - è¾“å…¥å¼€å‘æœº IPï¼šhttp://192.168.31.217:8081
```

### é¦–æ¬¡å®‰è£… Expo Development Client

ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æˆ–éœ€è¦æ›´æ–°å®¢æˆ·ç«¯æ—¶ï¼š

```bash
cd mobile

# æž„å»ºå¹¶å®‰è£…è‡ªå®šä¹‰å¼€å‘å®¢æˆ·ç«¯
npm run android

# è¿™ä¼šåœ¨çœŸæœºä¸Šå®‰è£… Expo Development Client åº”ç”¨
# å®‰è£…å®ŒæˆåŽï¼Œæ‰èƒ½è¿è¡Œä¸Šé¢çš„å¯åŠ¨å‘½ä»¤
```

## ç½‘ç»œé…ç½®

### æŽ¨èé…ç½®ï¼šADB åå‘è½¬å‘ï¼ˆæœ€ç¨³å®šï¼‰

å½“å‰åº”ç”¨å·²é…ç½®ä¸ºä½¿ç”¨ **ADB åå‘è½¬å‘** æ–¹æ¡ˆï¼š

```typescript
// src/config/index.ts
const API_HOST = "http://localhost:8080";  // é€šè¿‡ ADB è½¬å‘
const WS_HOST = "ws://localhost:8080";      // WebSocket ä¹Ÿé€šè¿‡è½¬å‘
```

**é…ç½® ADB è½¬å‘**:
```bash
# è‡ªåŠ¨ï¼ˆè„šæœ¬å·²é›†æˆï¼‰
bash scripts/dev-client-debug.sh

# æ‰‹åŠ¨
adb reverse tcp:8080 tcp:8080
adb reverse tcp:8081 tcp:8081

# éªŒè¯
adb reverse --list
# åº”æ˜¾ç¤ºï¼štcp:8080 tcp:8080 å’Œ tcp:8081 tcp:8081
```

**ä¼˜åŠ¿**:
- âœ… æ¯”ç›´æŽ¥ LAN IP æ›´ç¨³å®šå¯é 
- âœ… ä¸Žæœ¬åœ°å¼€å‘çŽ¯å¢ƒé…ç½®ä¸€è‡´ï¼ˆlocalhostï¼‰
- âœ… æ”¯æŒå¤šè®¾å¤‡åŒæ—¶è°ƒè¯•
- âœ… æ›´ä½Žçš„å»¶è¿Ÿï¼Œæ›´ç¨³å®šçš„ç½‘ç»œ
- âœ… æ— éœ€ä¿®æ”¹ä»£ç é…ç½®

### å¯é€‰ï¼šLAN æ¨¡å¼ï¼ˆWi-Fi è°ƒè¯•ï¼‰

å¼€å‘æœº IPï¼š`192.168.31.217`

ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦æ— çº¿è‡ªç”±ç§»åŠ¨è¿›è¡Œæ¼”ç¤ºæˆ–æµ‹è¯•

```bash
npm run start:dev-client:lan
# æˆ–
npm run start:lan
```

## å¸¸ç”¨å¼€å‘å‘½ä»¤

```bash
cd mobile

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆä½¿ç”¨ ADB è½¬å‘ï¼ŒæŽ¨èï¼‰
npm run start:dev-client

# LAN æ¨¡å¼å¯åŠ¨ï¼ˆWi-Fi è°ƒè¯•ï¼‰
npm run start:dev-client:lan

# æˆ–ä½¿ç”¨ä¼ ç»Ÿ Expo Go
npm run start
npm run start:lan

# æž„å»ºè‡ªå®šä¹‰å¼€å‘å®¢æˆ·ç«¯ APK
npm run android

# iOSï¼ˆmacOS ä¸Šï¼‰
npm run ios

# Web åº”ç”¨
npm run web

# ä»£ç æ£€æŸ¥
npm run lint

# å®Œæ•´å¯åŠ¨è„šæœ¬ï¼ˆæ‰€æœ‰åˆå§‹åŒ–æ­¥éª¤ï¼‰
bash scripts/dev-client-debug.sh
```

## çŽ¯å¢ƒé…ç½®è¯´æ˜Ž

åº”ç”¨ä¼šæ ¹æ®è¿è¡Œå¹³å°è‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„ API åœ°å€ï¼š

```typescript
// src/config/index.ts
const API_HOST = "http://localhost:8080";  // ADB è½¬å‘
const WS_HOST = "ws://localhost:8080";      // WebSocket
const REQUEST_TIMEOUT = 10_000;             // 10 ç§’è¶…æ—¶
```

**LAN IP é…ç½®** (ä»…åœ¨ä½¿ç”¨ LAN æ¨¡å¼æ—¶éœ€è¦æ›´æ–°):
```typescript
const LAN_IP = "192.168.31.217";  // ä¿®æ”¹ä¸ºä½ çš„å¼€å‘æœº IP
```

## æ‰‹åŠ¨æµ‹è¯•æµç¨‹

### åœºæ™¯ï¼šä¸¤å°è®¾å¤‡è¿›è¡ŒéŸ³é¢‘é€šè¯

1. **å‡†å¤‡åŽç«¯**
   ```bash
   ./start.sh          # å¯åŠ¨ MySQL å’Œ Redis
   cd backend
   go run cmd/server/main.go
   ```

2. **å¯åŠ¨åº”ç”¨**
   ```bash
   cd mobile
   bash scripts/dev-client-debug.sh  # å¯åŠ¨ Metro
   
   # åœ¨ä¸¤å°è®¾å¤‡ä¸Šåˆ†åˆ«æ‰«æäºŒç»´ç 
   ```

3. **è®¾å¤‡ Aï¼ˆAliceï¼‰**
   - è¾“å…¥é‚®ç®±ï¼šalice@example.com
   - ç‚¹å‡»"èŽ·å–éªŒè¯ç " â†’ æ£€æŸ¥é‚®ä»¶ â†’ è¾“å…¥éªŒè¯ç 
   - ç‚¹å‡»"æ³¨å†Œ"
   - è¿›å…¥è”ç³»äººé¡µé¢ï¼Œç‚¹å‡»"+"æ·»åŠ è”ç³»äºº
   - è¾“å…¥ bob@example.com â†’ æœç´¢ â†’ æ·»åŠ 
   - è§‚å¯Ÿ Bob çš„åœ¨çº¿çŠ¶æ€ï¼ˆç»¿ç‚¹è¡¨ç¤ºåœ¨çº¿ï¼‰

4. **è®¾å¤‡ Bï¼ˆBobï¼‰**
   - åŒæ—¶åœ¨å¦ä¸€å°è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šé‡å¤æ³¨å†Œæµç¨‹
   - æ³¨å†Œè´¦å·ï¼šbob@example.com
   - æ·»åŠ  Alice ä¸ºè”ç³»äºº

5. **å‘èµ·é€šè¯** (Alice ç«¯)
   - åœ¨è”ç³»äººåˆ—è¡¨ä¸­æ‰¾åˆ° Bob
   - ç‚¹å‡»"å‘¼å«"æŒ‰é’®
   - ç³»ç»Ÿä¼šè¯·æ±‚éº¦å…‹é£Žæƒé™ â†’ æŽˆäºˆ
   - éŸ³é¢‘é‡‡é›†å¼€å§‹

6. **æŽ¥å¬é€šè¯** (Bob ç«¯)
   - å±å¹•ä¸Šå¼¹å‡ºæ¥ç”µæç¤º
   - ç‚¹å‡»"æŽ¥å—"
   - åŒæ–¹é€šè¿‡ WebRTC è‡ªåŠ¨äº¤æ¢ SDP å’Œ ICE å€™é€‰
   - éŸ³é¢‘ä¼šé€šè¿‡ P2P è¿žæŽ¥ä¼ è¾“ï¼ˆ`RTCView` åœ¨åŽå°éšè—æ¸²æŸ“ï¼‰

7. **ç»“æŸé€šè¯**
   - ä»»æ„ä¸€ç«¯ç‚¹å‡»"ç»“æŸ"æŒ‰é’®
   - é€šè¯å…³é—­ï¼ŒéŸ³é¢‘èµ„æºé‡Šæ”¾

## æ•…éšœæŽ’æŸ¥

### é—®é¢˜ 1ï¼šåº”ç”¨æ— æ³•è¿žæŽ¥åˆ°åŽç«¯ API

**ç—‡çŠ¶**: `AxiosError: Network Error` æˆ– `Network timeout`

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æ£€æŸ¥ ADB è½¬å‘æ˜¯å¦é…ç½®
adb reverse --list
# åº”æ˜¾ç¤ºï¼štcp:8080 tcp:8080 å’Œ tcp:8081 tcp:8081

# å¦‚æžœç¼ºå°‘ï¼Œé‡æ–°é…ç½®
adb reverse tcp:8080 tcp:8080
adb reverse tcp:8081 tcp:8081

# 2. éªŒè¯åŽç«¯æ˜¯å¦è¿è¡Œ
curl http://localhost:8080/health

# 3. æ£€æŸ¥å‰ç«¯é…ç½®
cat src/config/index.ts
# åº”æ˜¾ç¤º API_HOST = "http://localhost:8080"

# 4. æ¸…é™¤åº”ç”¨æ•°æ®
adb shell pm clear com.allcallall.mobile

# 5. é‡æ–°å¯åŠ¨åº”ç”¨
bash scripts/dev-client-debug.sh
```

### é—®é¢˜ 2ï¼šMetro æ— æ³•å¯åŠ¨æˆ–è™šæ‹Ÿå…¥å£ç‚¹ 404 é”™è¯¯

**ç—‡çŠ¶**: `Unable to resolve module ./.expo/.virtual-metro-entry` æˆ– Metro ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

```bash
# 1. æœ€ç®€å•ï¼šä½¿ç”¨è‡ªåŠ¨è„šæœ¬
bash scripts/dev-client-debug.sh

# 2. æ‰‹åŠ¨å¤„ç†ï¼š
# æ¸…ç†ç¼“å­˜
rm -rf node_modules/.cache /tmp/metro-*

# æ£€æŸ¥è™šæ‹Ÿå…¥å£ç‚¹æ–‡ä»¶ï¼ˆä¸è¦åˆ é™¤ï¼ï¼‰
ls -la .expo/.virtual-metro-entry.js

# å¦‚æžœæ–‡ä»¶ä¸¢å¤±ï¼Œé‡å»ºå®ƒ
mkdir -p .expo
cat > .expo/.virtual-metro-entry.js << 'EOF'
import { registerRootComponent } from 'expo';
import App from '../App';
registerRootComponent(App);
EOF

# é‡æ–°å®‰è£…å’Œå¯åŠ¨
npm install
npm run start:dev-client
```

âš ï¸ **é‡è¦**: `.virtual-metro-entry.js` æ˜¯ Metro å¿…éœ€çš„è™šæ‹Ÿå…¥å£ç‚¹æ–‡ä»¶ã€‚**ç»ä¸èƒ½åˆ é™¤**ã€‚è„šæœ¬ä¼šè‡ªåŠ¨ä¿æŠ¤å®ƒã€‚

### é—®é¢˜ 3ï¼šæ— æ³•æŽ¥æ”¶éªŒè¯ç é‚®ä»¶

**ç—‡çŠ¶**: ç‚¹å‡»"èŽ·å–éªŒè¯ç "ä½†æœªæ”¶åˆ°é‚®ä»¶ï¼Œæˆ–æ”¶åˆ°é”™è¯¯

**æŽ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥åŽç«¯é‚®ä»¶é…ç½®
cat backend/configs/config.yaml | grep -A5 mail:
# åº”æ˜¾ç¤ºï¼š
#   host: smtp.qq.com
#   port: 587
#   username: xxxx@qq.com

# 2. éªŒè¯çŽ¯å¢ƒå˜é‡
echo $MAIL_PASSWORD

# 3. æµ‹è¯•é‚®ä»¶å‘é€ç«¯ç‚¹
curl -X POST http://localhost:8080/api/v1/email/send-verification-code \
  -H "Content-Type: application/json" \
  -d '{"email":"test.user@example.com"}'

# æœŸæœ›å“åº”: {"message":"verification code sent successfully"}

# 4. å¦‚æžœéªŒè¯ç å‘é€å¤±è´¥ï¼š
#    - æ£€æŸ¥æ˜¯å¦è§¦å‘é˜²åˆ·æœºåˆ¶ï¼ˆ60ç§’å†·å´ï¼‰
#    - æ£€æŸ¥æ˜¯å¦å› ä¸º 3 æ¬¡å¤±è´¥è¢«å°ç¦ 30 åˆ†é’Ÿ
#    - æŸ¥çœ‹é‚®ç®±åžƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
```

### é—®é¢˜ 4ï¼šè®¾å¤‡æ—¥å¿—å’Œå®žæ—¶è°ƒè¯•

```bash
# æŸ¥çœ‹ Android æ—¥å¿—
adb logcat | grep allcall

# é€šè¿‡ Chrome DevTools è°ƒè¯•
# Metro èœå• â†’ Debug Remote JS
# è‡ªåŠ¨æ‰“å¼€ Chromeï¼Œå¯è®¾ç½®æ–­ç‚¹ã€æŸ¥çœ‹æ—¥å¿—ç­‰

# æ€§èƒ½ç›‘è§†
# Metro èœå• â†’ Show Perf Monitor
# å®žæ—¶æŸ¥çœ‹ FPSã€å†…å­˜ä½¿ç”¨ã€åŠ è½½æ—¶é—´
```

## ä»£ç é£Žæ ¼å’Œæœ€ä½³å®žè·µ

- **TypeScript**: å®Œæ•´ç±»åž‹æ£€æŸ¥ï¼Œé¿å… `any`
- **React Hooks**: ä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ Hooksï¼Œé¿å…ç±»ç»„ä»¶
- **Context API**: ç®€å•çŠ¶æ€ç®¡ç†ï¼Œé€‚åˆæ­¤é¡¹ç›®è§„æ¨¡
- **Error Handling**: æ‰€æœ‰ç½‘ç»œè¯·æ±‚éƒ½æœ‰é”™è¯¯å¤„ç†
- **Loading States**: æ˜¾ç¤ºåŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º
- **Cleanup**: ç»„ä»¶å¸è½½æ—¶æ¸…ç†èµ„æºï¼ˆå–æ¶ˆè¯·æ±‚ã€å…³é—­è¿žæŽ¥ç­‰ï¼‰

## æœªæ¥ä¼˜åŒ–æ–¹å‘

- ðŸŽ¥ **è§†é¢‘é€šè¯**: åœ¨çŽ°æœ‰éŸ³é¢‘åŸºç¡€ä¸Šæ·»åŠ æ‘„åƒå¤´é‡‡é›†å’Œæ¸²æŸ“
- ðŸ’¾ **é€šè¯è®°å½•**: æŒä¹…åŒ–å­˜å‚¨ä¿¡ä»¤äº‹ä»¶å’Œé€šè¯æ—¥å¿—
- ðŸ”” **æŽ¨é€é€šçŸ¥**: å½“åº”ç”¨åŽå°æ—¶ï¼Œæ¥ç”µé€šè¿‡æŽ¨é€é€šçŸ¥ç”¨æˆ·
- ðŸŒ **å›½é™…åŒ–**: ç›®å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼Œå¯æ‰©å±•å…¶ä»–è¯­è¨€
- ðŸ”’ **ç«¯åˆ°ç«¯åŠ å¯†**: ä¸ºèŠå¤©æ¶ˆæ¯æ·»åŠ åŠ å¯†
- ðŸ“± **iOS æ”¯æŒ**: å®Œæ•´çš„ iOS é€‚é…å’Œæµ‹è¯•

## ç›¸å…³æ–‡æ¡£

- [æ ¹ç›®å½• README](../README.md) - é¡¹ç›®æ•´ä½“è¯´æ˜Žå’ŒåŽç«¯ä¿¡æ¯
- [Expo å®˜æ–¹æ–‡æ¡£](https://docs.expo.dev/)
- [React Native æ–‡æ¡£](https://reactnative.dev/)
- [React Navigation æ–‡æ¡£](https://reactnavigation.org/)
- [WebRTC ä¿¡ä»¤åè®®](https://github.com/yourusername/allcall/wiki/WebRTC-Signaling)

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶
